<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Check a data frame for alluvial structure — is_alluvial • ggalluvial</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ggalluvial</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ggalluvial.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Check a data frame for alluvial structure</h1>
    </div>

    
    <p>Alluvial diagrams consist of multiple horizontally-distributed columns (axes)
representing factor variables, vertical divisions (strata) of these axes
representing these variables' values; and splines (alluvial flows) connecting
vertical subdivisions (lodes) within strata of adjacent axes representing
subsets or amounts of observations that take the corresponding values of the
corresponding variables. This function checks a data frame for either of two
types of alluvial structure:</p><ul>
<li><p>One row per <strong>lode</strong>, wherein each row encodes a subset or
        amount of observations having a specific profile of axis values, a
        <code>key</code> field encodes the axis, a <code>value</code> field encodes the
        value within each axis, and a <code>id</code> column identifies multiple
        lodes corresponding to the same subset or amount of observations.</p></li>
<li><p>One row per <strong>alluvium</strong>, wherein each row encodes a subset or
        amount of observations having a specific profile of axis values and a
        set <code>axes</code> of fields encodes its values at each axis variable.</p></li>
</ul><p>If no arguments are assigned to any of these parameters, then
<code>is_alluvial</code> will default to <code>is_alluvial_alluvia</code> and assume that
all fields in <code>data</code> (other than <code>weight</code>, if given) are to be
treated as axes.</p>
    

    <pre class="usage"><span class='fu'>is_alluvial</span>(<span class='no'>data</span>, <span class='no'>...</span>, <span class='kw'>logical</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>is_alluvial_lodes</span>(<span class='no'>data</span>, <span class='no'>key</span>, <span class='no'>value</span>, <span class='no'>id</span>, <span class='kw'>weight</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>logical</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='fu'>is_alluvial_alluvia</span>(<span class='no'>data</span>, <span class='no'>axes</span>, <span class='kw'>weight</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>logical</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional parameters used to determine method and passed
thereto. All or none of <code>key</code>, <code>value</code>, and <code>id</code>, or else
optionally <code>axes</code>, and (in either case) optionally <code>weight</code>.</p></td>
    </tr>
    <tr>
      <th>logical</th>
      <td><p>Whether to return a logical value (TRUE, the default) or a 
character string indicating the type of alluvial structure ("none", 
"lodes", or "alluvia")</p></td>
    </tr>
    <tr>
      <th>silent</th>
      <td><p>Whether to print warning messages.</p></td>
    </tr>
    <tr>
      <th>key, value, id</th>
      <td><p>Numeric or character; the fields of <code>data</code>
corresponding to the axis (variable), stratum (value), and alluvium
(identifying) variables.</p></td>
    </tr>
    <tr>
      <th>weight</th>
      <td><p>Optional numeric or character; the fields of <code>data</code>
corresponding to alluvium or lode weights (heights when plotted).</p></td>
    </tr>
    <tr>
      <th>axes</th>
      <td><p>Numeric or character vector; the field(s) of <code>data</code>
corresponding to the axi(e)s (variable(s)).</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Titanic data in alluvium form</span>
<span class='no'>titanic_alluvia</span> <span class='kw'>&lt;-</span> <span class='fu'>as.data.frame</span>(<span class='no'>Titanic</span>)
<span class='fu'>is_alluvial</span>(<span class='no'>titanic_alluvia</span>,
            <span class='kw'>weight</span> <span class='kw'>=</span> <span class='st'>"Freq"</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='co'># Titanic data in lode form</span>
<span class='no'>titanic_lodes</span> <span class='kw'>&lt;-</span> <span class='fu'>suppressWarnings</span>(<span class='kw pkg'>tidyr</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/tidyr/topics/gather'>gather</a></span>(
  <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='http://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span>(<span class='no'>titanic_alluvia</span>, <span class='kw'>Index</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fu'>nrow</span>(<span class='no'>titanic_alluvia</span>)),
  <span class='st'>"Variable"</span>, <span class='st'>"Value"</span>, <span class='kw'>axes</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>4</span>, <span class='kw'>factor_key</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
))
<span class='no'>titanic_lodes</span>$<span class='no'>Value</span> <span class='kw'>&lt;-</span> <span class='fu'>factor</span>(<span class='no'>titanic_lodes</span>$<span class='no'>Value</span>,
                              <span class='kw'>levels</span> <span class='kw'>=</span> <span class='fu'>do.call</span>(<span class='no'>c</span>, <span class='fu'>lapply</span>(<span class='no'>titanic_alluvia</span>[, <span class='fl'>1</span>:<span class='fl'>4</span>],
                                                         <span class='no'>levels</span>)))
<span class='fu'>is_alluvial</span>(<span class='no'>titanic_lodes</span>,
            <span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"Variable"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"Value"</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='st'>"Index"</span>,
            <span class='kw'>weight</span> <span class='kw'>=</span> <span class='st'>"Freq"</span>,
            <span class='kw'>logical</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; [1] "lodes"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jason Cory Brunson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
